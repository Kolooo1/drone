# Система управления дроном для AirSim

Этот проект реализует систему управления дроном для симулятора AirSim. Он предоставляет функциональность для базовых операций с дроном, включая взлет, движение, поворот и посадку, а также выполнение миссий по GPS-точкам.

## Возможности

- Взлет на заданную высоту
- Движение вперед и назад
- Переход в режим стабилизации
- Посадка
- Загрузка и выполнение миссий по GPS-точкам
- Подробное логирование полета
- Обработка ошибок и аварийная посадка
- Захват изображений с камеры дрона

## Требования

- Python 3.7+
- Необходимые пакеты указаны в `requirements.txt`
- Установленный симулятор AirSim

## Установка

1. Клонируйте этот репозиторий
2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
3. Установите и настройте AirSim:
   - Скачайте AirSim с [официального GitHub](https://github.com/microsoft/AirSim)
   - Следуйте [инструкциям по установке](https://microsoft.github.io/AirSim/build_windows/) для вашей ОС
   - Или скачайте готовую сборку с [релизов AirSim](https://github.com/microsoft/AirSim/releases)

## Использование

1. Запустите симулятор AirSim
2. Дождитесь полной загрузки среды симуляции
3. Запустите контроллер дрона:
   ```bash
   python drone_controller.py
   ```

Скрипт выполнит последовательность действий:
1. Подключение к симулятору AirSim
2. Взлет дрона
3. Выполнение маневров (движение вперед-назад)
4. Переход в режим стабилизации
5. Посадку
6. Загрузку GPS-маршрута
7. Выполнение миссии по маршрутным точкам

Все действия записываются в консоль и файл `drone_flight.log`.

## Настройка AirSim

Для корректной работы с AirSim убедитесь, что:
1. У вас установлен симулятор AirSim
2. Настройки AirSim находятся в файле `settings.json` (обычно в `Documents\AirSim`)
3. Пример базовых настроек:
   ```json
   {
     "SeeDocsAt": "https://github.com/Microsoft/AirSim/blob/master/docs/settings.md",
     "SettingsVersion": 1.2,
     "SimMode": "Multirotor",
     "ViewMode": "SpringArmChase",
     "ClockSpeed": 1.0
   }
   ```

## Журнал полета

Система ведет подробный журнал всех операций с дроном в файле `drone_flight.log`, включая:
- Временную метку для каждой операции
- Статус успеха/неудачи
- Сообщения об ошибках (если есть)

## Обработка ошибок

Система включает комплексную обработку ошибок:
- Автоматическое подключение к симулятору
- Аварийное выключение моторов при ошибках
- Подробное логирование ошибок
